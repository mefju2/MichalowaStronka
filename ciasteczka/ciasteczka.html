<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    
    <link rel = "stylesheet" href = "style.css">
    <link href="https://fonts.googleapis.com/css?family=Baloo+2&display=swap" rel="stylesheet">
</head>
<body>
    <div id = "header">
        <h1>Sesje i ciasteczka w PHP</h1>
        <div id = "navigation">
            <a href = "ciasteczka.html">Ciasteczka</a>
            <a href = "sesje.html">Sesje</a>
            <a href = "quiz.html">Quiz</a>
        </div>
    </div>
    <div id = "container">
        <h3>Ciasteczka</h3>
        <h4>Opis</h4>
        <p>Ciasteczka (eng. cookies) mały fragment tekstu, który serwis internetowy wysyła do przeglądarki i który przeglądarka wysyła z powrotem przy następnych wejściach na witrynę. Używane jest głównie do utrzymywania sesji np. poprzez wygenerowanie i odesłanie tymczasowego identyfikatora po logowaniu. Może być jednak wykorzystywane szerzej poprzez zapamiętanie dowolnych danych, które można zakodować jako ciąg znaków. Dzięki temu użytkownik nie musi wpisywać tych samych informacji za każdym razem, gdy powróci na tę stronę lub przejdzie z jednej strony na inną.
        </p>

            <h4>Zastosowanie</h4>
            <p>Cookie różnych rodzajów są stosowane najczęściej po logowaniu do utrzymywania sesji. Mogą jednak przechowywać inne tymczasowe dane jak stan elementów na stronie, czy historię odwiedzanych poprzednio stron (na danej witrynie). Umożliwia to tworzenie spersonalizowanych serwisów WWW (np. zapamiętanie stanu menu), obsługi logowania, prostych sond i liczników, „koszyków zakupowych” w internetowych sklepach, a także tworzenie statystyk użyteczności witryny oraz badanie preferencji użytkowników.<br><br>

                Zastosowanie cookies do sond i liczników internetowych może wyglądać następująco – serwer ustawia ciasteczko informujące, że z danego komputera oddano już głos lub też odwiedzono daną stronę. Na tej podstawie może wykonać odpowiednie operacje i wygenerować dla użytkownika zindywidualizowaną treść strony. Schematyczny sposób wykorzystywania ciasteczek przy obsłudze licznika internetowego, wykluczającego przeładowania (zwiększanie liczby odwiedzin przy odświeżeniu strony) przedstawiony jest poniżej:</p>

                <div id = "images">
                    <img src = "pierwsze.png">
                    <img src = "kolejne.png">
                </div>

                <h4>Tworzenie ciastka w PHP</h4>
                
                <div class = "code">
                    
                <code>
                    &lt;?php <br>
                        setcookie('wizyta', time(), time() + 30 * 86400); <br>
                        if(!isset($_COOKIE['wizyta'])) <br>
                        { <br>
                            &nbsp;echo 'Witaj, gościu.'; <br>
                        } <br>
                        else <br>
                        { <br>
                            &nbsp;echo 'Witaj, ostatni raz odwiedziłeś nas '.date('d.m.Y, H:i', $_COOKIE['wizyta']); <br>	
                        } <br>
                    
                    ?&gt;
                </code>

            </div>
                <p>Trzy pierwsze parametry setcookie() są najważniejsze (ma ona ich trochę więcej). Jest to kolejno: nazwa ciastka, jego wartość oraz data ważności w sekundach od 1.1.1970. Data, a nie okres ważności, stąd przy jego ustawianiu przydaje się funkcja time(). W powyższym skrypcie sprawdzamy, czy ustawialiśmy już ciastko dla danego internauty. Jeśli nie, tworzymy je i wyświetlamy komunikat powitania. W przeciwnym wypadku także aktualizujemy wartość, ale też wyświetlamy datę ostatniej wizyty odczytaną właśnie z ciastka.</p>

                <h4>Usuwanie ciastka</h4>

                <div class = "code">
                    <code>
                        &lt;?php <br>
 
                        &nbsp;setcookie('wizyta', '', 0); <br>
 
                        &gt;?
                    </code>
                </div>

                <p>Aby istniejące ciastko skasować, wywołujemy funkcję setcookie() z jakąś przeszłą datą ważności</p>
    </div>
    <div id = "footer">Stronę wykonał: Mateusz Michno 4i2-22</div>
</body>
</html>